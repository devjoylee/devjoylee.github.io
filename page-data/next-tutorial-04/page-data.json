{"componentChunkName":"component---src-templates-post-jsx","path":"/next-tutorial-04/","result":{"data":{"site":{"siteMetadata":{"title":"joy.blog"}},"markdownRemark":{"id":"90921c61-72d1-55bc-9932-3d0a3ae55f92","excerpt":"1ï¸âƒ£ MongoDB í”„ë¡œì íŠ¸ ìƒì„± https://www.mongodb.com/ í™ˆí˜ì´ì§€ì—ì„œ íšŒì›ê°€ì… í›„, í”„ë¡œì íŠ¸ë¥¼ ìƒì„± í•œë‹¤. ìƒì„±í•œ í”„ë¡œì íŠ¸ì— ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤. Free ë²„ì „ ì„ íƒ!\n Security > Database Accessì—ì„œ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•œë‹¤. ì´ë•Œ íŒ¨ìŠ¤ì›Œë“œëŠ” ë‚˜ì¤‘ì— ì“°ì´ë¯€ë¡œ ì €ì¥í•´ë‘˜ ê²ƒ!\n Security > Network Acceâ€¦","html":"<h2>1ï¸âƒ£ MongoDB í”„ë¡œì íŠ¸ ìƒì„±</h2>\n<ol>\n<li><a href=\"https://www.mongodb.com/\">https://www.mongodb.com/</a> í™ˆí˜ì´ì§€ì—ì„œ íšŒì›ê°€ì… í›„, í”„ë¡œì íŠ¸ë¥¼ ìƒì„± í•œë‹¤.</li>\n</ol>\n<img src='https://user-images.githubusercontent.com/68415905/221728163-0a33eb92-aab6-4bc8-a38d-946a5fbec98a.JPG' alt='img' width='800'>\n<ol start=\"2\">\n<li>\n<p>ìƒì„±í•œ í”„ë¡œì íŠ¸ì— ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤. Free ë²„ì „ ì„ íƒ!\n<img src='https://user-images.githubusercontent.com/68415905/221728166-1675d8c6-c27a-431a-96c2-159272f32a22.JPG' alt='' width='700'></p>\n</li>\n<li>\n<p>Security > Database Accessì—ì„œ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•œë‹¤. ì´ë•Œ íŒ¨ìŠ¤ì›Œë“œëŠ” ë‚˜ì¤‘ì— ì“°ì´ë¯€ë¡œ ì €ì¥í•´ë‘˜ ê²ƒ!\n<img src='https://user-images.githubusercontent.com/68415905/221728172-cee90bf9-2d0f-4bac-bfee-3a449844f92d.JPG' alt=''></p>\n</li>\n<li>\n<p>Security > Network Accessì—ì„œ IPì£¼ì†Œë¥¼ ì¶”ê°€í•œë‹¤\n<img src='https://user-images.githubusercontent.com/68415905/221731897-6db80b63-2c1a-4d10-b28d-432a1dbc6f17.JPG' alt='' width='550' style='margin:0'></p>\n</li>\n</ol>\n<h2>2ï¸âƒ£ ë¡œì»¬ì— MongoDB í™˜ê²½ ì„¤ì •í•˜ê¸°</h2>\n<p><a href=\"https://next-auth.js.org/adapters/mongodb\">ğŸ“ Go to Next Auth + MongoDB Docs</a></p>\n<ol>\n<li>MongoDB Installation</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> next-auth @next-auth/mongodb-adapter mongodb</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">lib/mongodb.ts</code> ê²½ë¡œì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// This approach is taken from https://github.com/vercel/next.js/tree/canary/examples/with-mongodb</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MongoClient <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mongodb\"</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">MONGODB_URI</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid/Missing environment variable: \"MONGODB_URI\"'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> uri <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">MONGODB_URI</span>\n<span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> client\n<span class=\"token keyword\">let</span> <span class=\"token literal-property property\">clientPromise</span><span class=\"token operator\">:</span> Promise<span class=\"token operator\">&lt;</span>MongoClient<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"development\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// In development mode, use a global variable so that the value</span>\n  <span class=\"token comment\">// is preserved across module reloads caused by HMR (Hot Module Replacement).</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>global<span class=\"token punctuation\">.</span>_mongoClientPromise<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MongoClient</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n    global<span class=\"token punctuation\">.</span>_mongoClientPromise <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  clientPromise <span class=\"token operator\">=</span> global<span class=\"token punctuation\">.</span>_mongoClientPromise\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// In production mode, it's best to not use a global variable.</span>\n  client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MongoClient</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n  clientPromise <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Export a module-scoped MongoClient promise. By doing this in a</span>\n<span class=\"token comment\">// separate module, the client can be shared across functions.</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> clientPromise</code></pre></div>\n<ol start=\"3\">\n<li>ë§Œë“¤ì–´ë‘” next auth APIì— MongoDB ì–´ëŒ‘í„°ë¥¼ ì¶”ê°€í•œë‹¤ (ê²½ë¡œ : <code class=\"language-text\">pages/api/auth/[...nextauth].js</code>) <br/>\n<code class=\"language-text\">adapter</code>ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” session strategyë¥¼ jwtë¡œ ì„¤ì •í•´ì¤€ë‹¤. <a href=\"https://devjoylee.github.io/node-tutorial-04/\">ğŸ‘‰ jwt ì¸ì¦ë°©ì‹ ë” ì•Œì•„ë³´ê¸°</a></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> NextAuth <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MongoDBAdapter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@next-auth/mongodb-adapter\"</span>\n<span class=\"token keyword\">import</span> clientPromise <span class=\"token keyword\">from</span> <span class=\"token string\">\"lib/mongodb\"</span>\n\n<span class=\"token comment\">// For more information on each option (and a full list of options) go to</span>\n<span class=\"token comment\">// https://next-auth.js.org/configuration/options</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">NextAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">adapter</span><span class=\"token operator\">:</span> <span class=\"token function\">MongoDBAdapter</span><span class=\"token punctuation\">(</span>clientPromise<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">session</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">strategy</span><span class=\"token operator\">:</span> <span class=\"token string\">'jwt'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>3ï¸âƒ£ JWT Secret ë°œê¸‰ ë°›ê¸°</h2>\n<ol>\n<li>generate-secret.vercel.app ì—ì„œ JWT ì½”ë“œë¥¼ ë°œê¸‰ ë°›ëŠ”ë‹¤. (ì½”ë“œ ë³µì‚¬)</li>\n<li><code class=\"language-text\">.env.local</code> íŒŒì¼ì— ë³µì‚¬í•œ ì½”ë“œë¥¼ ì €ì¥í•œë‹¤</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">JWT_SECRET=0b7001621f33~~~</code></pre></div>\n<ol start=\"3\">\n<li>ë§Œë“¤ì–´ë‘” next auth APIì— secret ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤ (ê²½ë¡œ : <code class=\"language-text\">pages/api/auth/[...nextauth].js</code>)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">NextAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">adapter</span><span class=\"token operator\">:</span> <span class=\"token function\">MongoDBAdapter</span><span class=\"token punctuation\">(</span>clientPromise<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">secret</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_SECRET</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>4ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°í•˜ê¸°</h2>\n<ol>\n<li>MongoDB ë°ì´í„°ë² ì´ìŠ¤ê°€ ë§Œë“¤ì–´ ì§€ë©´ <code class=\"language-text\">Connect</code> ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ë°œê¸‰ë°›ëŠ”ë‹¤.</li>\n</ol>\n<img src='https://user-images.githubusercontent.com/68415905/221734881-6eb6dcee-b437-44c7-9de1-97f3bfdf9391.JPG' alt='' width='700'>\n<ol start=\"2\">\n<li><code class=\"language-text\">.env.local</code> ì— ë°œê¸‰ë°›ì€ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤ (ê²½ë¡œ : <code class=\"language-text\">pages/api/auth/[...nextauth].js</code>) <br/>\nì—¬ê¸°ì„œ <code class=\"language-text\">&lt;password></code>ëŠ” ì²˜ìŒì— ì‚¬ìš©ì ì¶”ê°€í•  ë•Œ ë°œê¸‰ë°›ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë°”ê¿”ì£¼ê³  <code class=\"language-text\">myFirstDatabase</code>ëŠ” ì•±ì´ë¦„ìœ¼ë¡œ êµì²´</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MONGODB_URI=mongodb+srv://admin:&lt;password>@cluster0.upmnolv.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority</code></pre></div>\n<h2>5ï¸âƒ£ ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€í•˜ê¸°</h2>\n<p>ë¯¸ë“¤ì›¨ì–´(Middleware)ëŠ” ìš”ì²­ì´ ì™„ë£Œë˜ê¸° ì „ì— ì½”ë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.<br/>\në•ë¶„ì— ì‘ë‹µì„ ìˆ˜ì •í•˜ê³ , ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ê³ , í—¤ë”ë¥¼ ì¶”ê°€í•˜ê³ , ì‹¬ì§€ì–´ HTMLì„ ìŠ¤íŠ¸ë¦¬ë°í•  ìˆ˜ ìˆë‹¤. <br/>\n<a href=\"https://nextjs.org/docs/advanced-features/middleware\">ğŸ‘‰ NextJS ë¯¸ë“¤ì›¨ì–´ Docs ë³´ëŸ¬ê°€ê¸°</a></p>\n<img src='https://miro.medium.com/v2/resize:fit:720/format:webp/1*iO3GXX2ofuOF6CQUcG9u-g.png' alt=''>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getToken <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/jwt\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NextRequest<span class=\"token punctuation\">,</span> NextResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next/server\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">middleware</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">req</span><span class=\"token operator\">:</span> NextRequest</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pathname<span class=\"token punctuation\">,</span> origin <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>nextUrl\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>nextUrl<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">===</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      req<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">secret</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">JWT_SECRET</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">secureCookie</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"production\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// login ìœ ì €ê°€ ì—†ìœ¼ë©´ /home</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>session<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>origin<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/home</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// login ìœ ì €ê°€ ìˆìœ¼ë©´ /feed</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">return</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>origin<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/feed</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>6ï¸âƒ£ ë¡œê·¸ì¸ ë²„íŠ¼ê³¼ provider ì—°ê²°</h2>\n<p><code class=\"language-text\">getServerSideProps</code> ë¥¼ ì‚¬ìš©í•´ì„œ ì¶”ê°€í•œ providerë¥¼ ê°€ì ¸ì˜¨ í›„, ë¡œê·¸ì¸ ìš”ì²­ ì‹œ ìœ ì €ê°’ì„ ì „ì†¡í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getProviders <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next-auth/react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span>\n  GetServerSideProps<span class=\"token punctuation\">,</span>\n  InferGetServerSidePropsType<span class=\"token punctuation\">,</span>\n  NextPage<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next\"</span>\n\n<span class=\"token comment\">// access to the google provider by props</span>\n<span class=\"token keyword\">const</span> Home<span class=\"token operator\">:</span> <span class=\"token function-variable function\">NextPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> providers <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ProviderType<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>providers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>provider<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>provider<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"pl-4\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span>provider<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callbackUrl<span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          Sign In\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// server side rendering</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> getServerSideProps<span class=\"token operator\">:</span> <span class=\"token function-variable function\">GetServerSideProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> context <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> providers <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getProviders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> providers <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<br />\n<blockquote>\n<p>REFERENCE<br /> NextAuth ê³µì‹ë¬¸ì„œ <a href=\"https://next-auth.js.org/\">https://next-auth.js.org/</a><br/> NextJS Middleware <a href=\"https://nextjs.org/docs/advanced-features/middleware\">https://nextjs.org/docs/advanced-features/middleware</a></p>\n</blockquote>","frontmatter":{"title":"Next-Auth + MongoDB ë¡œê·¸ì¸ ìœ ì €ê°’ ì €ì¥í•˜ê¸°","date":"December 05, 2022","update":"December 05, 2022","tags":["NextJS","react"],"series":"NextJS"},"fields":{"slug":"/next-tutorial-04/","readingTime":{"minutes":4.425}}},"seriesList":{"edges":[{"node":{"id":"4f12cffb-fcfd-5035-af57-53d4b7f438bd","fields":{"slug":"/next-tutorial-01/"},"frontmatter":{"title":"NextJS ì‘ë™ ì›ë¦¬ì™€ íŒŒì¼ êµ¬ì¡°"}}},{"node":{"id":"d6aa89ae-0d27-5829-9b78-f3fb7b803414","fields":{"slug":"/next-tutorial-02/"},"frontmatter":{"title":"NextJS ver.13 íŠ¹ì§• ì‚´í´ë³´ê¸°"}}},{"node":{"id":"81067629-51a8-508c-a80f-6006f4f32da6","fields":{"slug":"/next-tutorial-03/"},"frontmatter":{"title":"Next-Authë¡œ Google ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„"}}},{"node":{"id":"90921c61-72d1-55bc-9932-3d0a3ae55f92","fields":{"slug":"/next-tutorial-04/"},"frontmatter":{"title":"Next-Auth + MongoDB ë¡œê·¸ì¸ ìœ ì €ê°’ ì €ì¥í•˜ê¸°"}}},{"node":{"id":"715017e0-660b-5773-ac5c-b5b525c5b968","fields":{"slug":"/next-tutorial-05/"},"frontmatter":{"title":"NextJS 14: ìƒˆë¡œìš´ ê¸°ëŠ¥ê³¼ ì£¼ìš” ì—…ë°ì´íŠ¸"}}}]},"previous":{"fields":{"slug":"/node-tutorial-04/"},"frontmatter":{"title":"[Node] Server Authentication (Session vs JWT)"}},"next":{"fields":{"slug":"/reactnative-rules/"},"frontmatter":{"title":"React Native ê¼­ ì•Œì•„ì•¼í•  ì£¼ìš” íŠ¹ì§•"}}},"pageContext":{"id":"90921c61-72d1-55bc-9932-3d0a3ae55f92","series":"NextJS","previousPostId":"00edc97c-e36c-55a1-9d91-6fc009e4cbff","nextPostId":"c3dbb5c7-23dd-58cd-9ab8-8c87aee83a7e"}},"staticQueryHashes":[],"slicesMap":{}}