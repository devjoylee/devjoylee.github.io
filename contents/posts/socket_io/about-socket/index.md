---
title: "Socket í†µì‹  ê°œë… ë° Socket.io ì‚¬ìš© ì˜ˆì‹œ"
description: "Socket í†µì‹  ê°œë… ë° Socket.io ì‚¬ìš© ì˜ˆì‹œ"
date: 2022-04-20
update: 2022-04-20
tags:
  - socket.io
series: "Socket.io"
---

## âœ¨ Socket ì´ë€?

ë„¤íŠ¸ì›ŒíŠ¸ ìƒì—ì„œ Socketì€ í”„ë¡œí† ì½œ, IP ì£¼ì†Œ, í¬íŠ¸ ë„˜ë²„ ë“±ìœ¼ë¡œ í•´ì„ë©ë‹ˆë‹¤. ë–¨ì–´ì ¸ ìˆëŠ” ë‘ í˜¸ìŠ¤íŠ¸ë¥¼ ì—°ê²°í•´ì£¼ëŠ” ë„êµ¬ë¡œ ì‚¬ìš©ë˜ë©° Socketì„ í†µí•´ ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ê±°ë‚˜ ë°›ì•„ì˜¬ ìˆ˜ ìˆëŠ” ë°ì´í„° í†µë¡œê°€ ë§Œë“¤ì–´ ì§‘ë‹ˆë‹¤. ì†Œì¼“ì˜ ì—­í• ì— ë”°ë¼ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“, ì„œë²„ì†Œì¼“ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.

### Websocket

> ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì™€ ì„œë²„ ì‚¬ì´ì˜ ì–‘ë°©í–¥ ì—°ê²° ì±„ë„ì„ êµ¬ì„±í•˜ëŠ” HTML5 í”„ë¡œí† ì½œ

WebSocketì€ HTML5 ì›¹ í‘œì¤€ ê¸°ìˆ ë¡œì¨ HTTP í†µì‹ ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ì—¬ ì–‘ë°©í–¥ í†µì‹ ì„ ì§€ì›í•˜ê³  ë˜ ì„œë²„ì™€ì˜ ì—°ê²°ì´ ìœ ì§€ê°€ ëœ ìƒíƒœì—ì„œ ë°ì´í„°ê°€ ì´ë™í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ê²ƒ ì´ì™¸ì˜ ë‹¤ë¥¸ ê¸°ëŠ¥ì€ ì—†ìœ¼ë‚˜ ë™ì‘ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë©° í†µì‹ í•  ë•Œ ì•„ì£¼ ì ì€ ë°ì´í„°ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì£¼ë¡œ ê°€ìƒí™”í ê±°ë˜ì†Œë‚˜ ê·œëª¨ê°€ í° ë°ì´í„° ì´ë™ì´ ë§ì€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. Websocketì€ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì™€ í˜¸í™˜ì´ ë˜ì§€ ì•ŠëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.

## ğŸ¤” HTTP í†µì‹ ê³¼ Socket í†µì‹  ë¹„êµ

### HTTP í†µì‹ 

> Clientì˜ ìš”ì²­(Request)ì´ ìˆì„ ë•Œë§Œ Serverê°€ ì‘ë‹µ(Response)í•˜ì—¬ ì •ë³´ë¥¼ ì „ì†¡í•œ í›„ ì—°ê²°ì„ ì¢…ë£Œí•˜ëŠ” í†µì‹ 

HTTPí†µì‹ ì€ ì‹¤ì‹œê°„ ì—°ê²°ë³´ë‹¤ëŠ” í•„ìš”í•  ë•Œ Serverë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ìƒí™©ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

- ë‹¨ë°©í–¥ í†µì‹  : Clientê°€ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²½ìš°ì—ë§Œ Serverê°€ ì‘ë‹µí•©ë‹ˆë‹¤.
- ì¼íšŒì„± í†µì‹  : Serverë¡œë¶€í„° ì‘ë‹µì„ ë°›ì€ í›„ì—ëŠ” ì—°ê²°ì´ ë°”ë¡œ ì¢…ë£Œë©ë‹ˆë‹¤.

### Socket í†µì‹ 

> Serverì™€ Clientê°€ íŠ¹ì • Socket(Port)ë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì–‘ë°©í–¥ í†µì‹ ì„ í•˜ëŠ” ë°©ì‹

Socket í†µì‹ ì€ ë™ì˜ìƒ ìŠ¤íŠ¸ë¦¬ë°ì´ë‚˜ ì±„íŒ…ì°½ ë“± ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

- ì–‘ë°©í–¥ í†µì‹  : Clientì—ì„œ Serverë¡œ, Serverì—ì„œ Clientë¡œ ë°ì´í„° ì „ë‹¬ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì§€ì†ì„± í†µì‹  : ì—°ê²°ì´ ëŠì´ì§€ ì•Šê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì† ìœ ì§€ë©ë‹ˆë‹¤.

## ğŸ” Socket.io ì‚¬ìš© í•˜ê¸°

> **Socket.io** ğŸ‘‰ Websocket ê¸°ë°˜ìœ¼ë¡œ ì›¹ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” Cross-platform WebSocket API

Socket.ioëŠ” WebSocketì„ í¸ë¦¬í•˜ê²Œ ì“¸ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°„ì˜ í˜¸í™˜ì„±ì„ ë†’ì´ê³  `room`ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ ì¼ë¶€ Clientì—ë§Œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë¸Œë¡œë“œìºìŠ¤íŒ…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì•„ë˜ êµ¬í˜„ ì˜ˆì‹œë¥¼ í†µí•´ ë” ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### ì„œë²„ Socket êµ¬í˜„

1. Socket íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤

```bash
npm i socket.io
```

2.  appì„œë²„ ìƒì„± í›„ ì†Œì¼“IOì— ìƒì„±í•œ ì„œë²„ë¥¼ ì „ë‹¬í•˜ê³  ë™ì‘ì‹œí‚¨ë‹¤

```js
const app = require("express")()
const SocketIO = require("socket.io")

const server = app.listen(8005, () => {})
const io = SocketIO(server, { path: "/socket.io" })
// ì„œë²„ ì—°ê²°, pathëŠ” í”„ë¡ íŠ¸ì™€ ì¼ì¹˜ì‹œì¼œì¤€ë‹¤.
// path: ì´ ê²½ë¡œë¥¼ í†µí•´ í†µì‹ ì„ ìˆ˜í–‰í•˜ë©°, ìƒëµì‹œ ë””í´íŠ¸ ê°’ì€ /socket.io ë¡œ ì§€ì •ëœë‹¤.
```

3. ì†Œì¼“ ì—°ê²°ì— ì„±ê³µí•˜ë©´ ê° ì´ë²¤íŠ¸ì— ëŒ€í•œ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

   (`addEventListener` ë°©ì‹ì„ ì‚¬ìš©)

```js
// ì›¹ì†Œì¼“ ì—°ê²° ì‹œ
io.on('connection', (socket) => {
  // ì—°ê²° ì¢…ë£Œ Event
  socket.on('disconnect', () => {
    console.log('í´ë¼ì´ì–¸íŠ¸ ì ‘ì† í•´ì œ', ip, socket.id);
  }

  // ì—ëŸ¬ ë°œìƒ Event
  socket.on('error', (error) => {
    console.error(error);
  });

  // Client -> Server (ë°ì´í„° ìˆ˜ì‹ )
  // Clientê°€ replyë¼ëŠ” ì´ë²¤íŠ¸ë¡œ ì „ì†¡í•œ ë°ì´í„°
  socket.on('reply', (data) => {
    console.log(data);
  });

  // Server -> Client (ë°ì´í„° ì „ì†¡)
  socket.emit('message', 'Hello World')

}
```

### í´ë¼ì´ì–¸íŠ¸ Socket êµ¬í˜„

1. Socket íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤ (clientë²„ì „)

```bash
npm i socket.io-client
```

2. Socketì„ ë¶ˆëŸ¬ì™€ì„œ Serverë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```js
import { io } from "socket.io-client"
const socket = io("http://localhost:3000") // server url ì „ë‹¬

// Server -> Client (ë°ì´í„° ìˆ˜ì‹ )
socket.on("message", data => {
  console.log(data)
})

// Client -> Serer (ë°ì´í„° ì „ì†¡)
socket.emit("message", "hello world!")
```

<br /><br />

> REFERENCE<br /> Learn Socket.io In 30 Minutes https://youtu.be/ZKEqqIO7n-k <br/> ì†Œì¼“(Socket) í†µì‹ ì´ë€? https://helloworld-88.tistory.com/215
