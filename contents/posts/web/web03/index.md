---
title: "TCP vs UDP: Statefulκ³Ό Statelessμ μ°¨μ΄ μ΄ν•΄ν•κΈ°"
description: "TCP vs UDP: Statefulκ³Ό Statelessμ μ°¨μ΄ μ΄ν•΄ν•κΈ°"
date: 2025-02-14
update: 2025-02-14
tags:
  - web
series: "Web Architecture"
---

## Statefulκ³Ό Stateless

TCP/UDPλ¥Ό μ΄ν•΄ν•κΈ° μ„ν•΄μ„λ” λ¨Όμ € "μƒνƒ κ΄€λ¦¬" κ°λ…μ„ μ΄ν•΄ν•λ” κ²ƒμ΄ ν•„μ”ν•λ‹¤. λ„¤νΈμ›ν¬ ν†µμ‹ μ—μ„ μƒνƒλ€, νΉμ • μ‹μ μ—μ„ μ‹μ¤ν…μ΄ κΈ°μ–µν•κ³  μλ” μ •λ³΄λ¥Ό μλ―Έν•λ‹¤. μ΄λ¥Ό κΈ°λ°μΌλ΅ ν”„λ΅ν† μ½μ„ λ¶„λ¥ν•λ©΄, μƒνƒλ¥Ό κΈ°μ–µν•κ³ μλ” **Stateful**κ³Ό μƒνƒ μ μ§€ μ—†μ΄ λ…λ¦½μ μΌλ΅ μ²λ¦¬λλ” **Stateless**λ΅ λ‚λ‰λ‹¤.

### Stateful (μƒνƒμ μ§€)

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ΄€κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό κΈ°μ–µν•κ³  λ³΄μ΅΄ν•¨μ„ μλ―Έν•λ‹¤. ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄λ¥Ό κΈ°μ–µν•λ‹¤λ” λ§μ€ μ–΄λ”κ°€μ— μ •λ³΄λ¥Ό μ €μ¥ν•κ³  ν†µμ‹ ν• λ•λ§λ‹¤ μ½λ”λ‹¤λ” λ»μ΄λ‹¤. μ΄λ¬ν• μ •λ³΄λ“¤μ€ μΌλ°μ μΌλ΅ λΈλΌμ°μ €μ μΏ ν‚¤μ— μ €μ¥λκ±°λ‚ μ„λ²„μ μ„Έμ…μ— μ €μ¥λλ‹¤. λ€ν‘μ μΈ Stateful ν”„λ΅ν† μ½μ—λ” **TCP**κ°€ μλ‹¤.

- **μ¥μ **
  - ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό κΈ°μ–µν•λ―€λ΅ μ‚¬μ©μ κ²½ν—(UX)μ΄ ν–¥μƒλ¨
  - λ―Όκ°ν• μ •λ³΄λ„ μ„λ²„μ—μ„ μ•μ „ν•κ² κ΄€λ¦¬ κ°€λ¥
- **λ‹¨μ **
  - μ„λ²„ λ¶€ν• μ¦κ°€(μƒνƒ μ €μ¥μΌλ΅ μΈν•΄ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μ¦κ°€)
  - μ„λ²„ μ¥μ•  μ‹ μƒνƒ λ³µκµ¬κ°€ μ–΄λ ¤μ›€
  - ν™•μ¥μ„± λ¬Έμ  (λ‹¤λ¥Έ μ„λ²„μ—λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒκ°’μ΄ μ—†μ–΄ λ¬Έμ  λ°μƒ)

### Stateless (**λ¬΄μƒνƒ)**

λ°λ€λ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ΄€κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•μμ„ μλ―Έν•λ‹¤. Stateless κµ¬μ΅°μ—μ„ μ„λ²„λ” λ‹¨μν μ”μ²­μ΄ μ¤λ©΄ μ‘λ‹µμ„ λ³΄λ‚΄λ” μ—­ν• λ§ μν–‰ν•λ©° μƒνƒ κ΄€λ¦¬λ” μ „μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² μ±…μ„μ΄ μλ‹¤. μ¦‰, ν†µμ‹ μ— ν•„μ”ν• λ¨λ“  μƒνƒ μ •λ³΄λ“¤μ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ§€κ³  μλ‹¤κ°€ μ„λ²„μ™€ ν†µμ‹ ν• λ• μƒνƒλ¥Ό λ³΄λ‚΄λ” κ²ƒμ΄ λ¬΄μƒνƒ κµ¬μ΅°μ΄λ‹¤. λ€ν‘μ μΈ Stateless ν”„λ΅ν† μ½μ—λ” **UDP**κ°€ μλ‹¤.

- **μ¥μ **
  - μ„λ²„ λ¶€ν• κ°μ†(μƒνƒ μ €μ¥ λ¶ν•„μ”)
  - μ„λ²„ ν™•μ¥μ΄ μ©μ΄(λ‹¤λ¥Έ μ„λ²„λ΅ μ”μ²­ μ „λ‹¬ κ°€λ¥)
  - μ¥μ•  λ³µκµ¬κ°€ μ‰¬μ›€(μƒνƒ μ •λ³΄κ°€ μ„λ²„μ— μ—†μΌλ―€λ΅)
- **λ‹¨μ **
  - μ”μ²­λ§λ‹¤ μƒνƒ μ •λ³΄λ¥Ό ν¬ν•¨ν•΄μ•Ό ν•λ―€λ΅ λ„¤νΈμ›ν¬ νΈλν”½ μ¦κ°€
  - ν΄λΌμ΄μ–ΈνΈμ— μƒνƒ μ •λ³΄λ¥Ό μ €μ¥ν•λ―€λ΅ λ³΄μ•μ— μ·¨μ•½(XSS, ν† ν° νƒμ·¨ λ“±)

### μ°¨μ΄μ 

| **κµ¬λ¶„**      | **Stateful**                    | **Stateless**                        |
| ------------- | ------------------------------- | ------------------------------------ |
| **μƒνƒ μ μ§€** | μ„λ²„κ°€ μƒνƒλ¥Ό μ €μ¥              | μ„λ²„λ” μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ          |
| **ν™•μ¥μ„±**    | λ‚®μ (μ„λ²„ κ°„ μƒνƒ κ³µμ  μ–΄λ ¤μ›€) | λ†’μ (μ„λ²„ κ°„ μƒνƒ κ³µμ  ν•„μ” μ—†μ)   |
| **μ„±λ¥**      | λ©”λ¨λ¦¬ λ¶€ν• μ¦κ°€                | μ”μ²­λ‹Ή μ²λ¦¬ μ†λ„κ°€ λΉ λ¦„              |
| **λ³΄μ•**      | λ―Όκ°ν• μ •λ³΄ μ„λ²„μ— μ €μ¥         | ν΄λΌμ΄μ–ΈνΈμ— μ •λ³΄ μ €μ¥μΌλ΅ λ³΄μ• μ·¨μ•½ |
| **μμ‹**      | TCP, μ„Έμ…                       | UDP, HTTP, JWT                       |

---

## TCP (Transmission Control Protocol)

TCPλ” λ‘ κ°μ νΈμ¤νΈλ¥Ό β€μ—°κ²°β€ν•μ—¬ λ°μ΄ν„° μ¤νΈλ¦Όμ„ κµν™ν•κ² ν•΄μ£Όλ” λ„¤νΈμ›ν¬ ν”„λ΅ν† μ½μ΄λ‹¤. λ°μ΄ν„°κ°€ λ©μ μ§€μ— μ •ν™•ν•κ² λ„λ‹¬ν–λ”μ§€ ν™•μΈν•κ³  μ†μ‹¤λ λ¶€λ¶„μ΄ μλ‹¤λ©΄ λ‹¤μ‹ μ „μ†΅μ„ μ”μ²­ν•λ‹¤. μ΄λ•, μ–‘λ°©ν–¥ μ—°κ²°μ„ μ„¤μ •ν•λ” κ³Όμ •μ„ **3-way handshake** λΌκ³  ν•κ³  μ΄λ¥Ό ν†µν•΄ μ‹ λΆ°μ„±μλ” ν†µμ‹ μ„ λ³΄μ¥ν•λ‹¤.

<img src="https://github.com/user-attachments/assets/8b93a1ab-b17c-4d19-9d97-51bfa798fe8b" alt="" width="450" />

### 3-way handsake

3-way handshakeλ” TCP/IP λ„¤νΈμ›ν¬μ—μ„ μ—°κ²°μ„ μ΄κΈ°ν™”ν•  λ• μ‚¬μ©λλ©° 3λ²μ ν†µμ‹ μ„ ν•¨μΌλ΅μ¨ μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μλ” μƒνƒκ°€ λμ—λ‹¤λ”κ²ƒμ„ ν™•μΈν•λ‹¤. μ—¬κΈ°μ„ μ„Έμ…μ μ €μ¥λ β€μƒνƒβ€™μ— λ”°λΌ μ„λ²„μ μ‘λ‹µμ΄ λ‹¬λΌμ§μΌλ΅ statefulν• κµ¬μ΅°λΌκ³  λ³Ό μ μλ‹¤.

1. Client β†’ Server: μ ‘μ† μ”μ²­ λ©”μ„Έμ§€ SYN μ „μ†΅ [Client State `SYN_SENT` ]
2. Server β†’ Client : μ”μ²­μ„ μλ½ν•λ” SYN/ACK μ „μ†΅ [Server State `SYN_RECEIVED` ]
3. Client β†’ Server : μλ½ ν™•μΈμΌλ΅ ACK μ „μ†΅ [Client/Server State `ESTABLISHED` ]

> `ESTABLISHED`Β = μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ μ μλ” μƒνƒκ°€ λμ—λ‹¤λ” λ»

<img width="750" src="https://github.com/user-attachments/assets/ddb3cd4f-b634-455e-baa0-cfefae9f4d7c" />

### λ™μ‘ λ°©μ‹

1. λ°μ΄ν„° μ „μ†΅μ„ ν•κΈ° μ „μ— λ¨Όμ € 3-way handshakeλ΅ μ—°κ²° μ„¤μ •μ„ ν•λ‹¤.
2. μ—°κ²°μ΄ μ„±λ¦½λλ©΄ λ°μ΄ν„°λ¥Ό μ„Έκ·Έλ¨ΌνΈ ν•νƒλ΅ λ‚λ„μ–΄ μμ°¨μ μΌλ΅ μ „μ†΅ν•λ‹¤.
3. μμ‹ μλ” λ°μ΄ν„°λ¥Ό λ°›μ„ λ•λ§λ‹¤ ACKλ¥Ό λ³΄λ‚΄ μ†΅μ‹ μμ—κ² λ„μ°©μ„ μ•λ¦°λ‹¤. λ§μ•½ ACKκ°€ μΌμ • μ‹κ°„ λ‚΄μ— λ„μ°©ν•μ§€ μ•μΌλ©΄ ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μ¬μ „μ†΅ν•λ‹¤.
4. λ°μ΄ν„° μ „μ†΅μ΄ μ™„λ£λλ©΄ μ–‘μ½ λ¨λ‘κ°€ μ—°κ²°μ„ μΆ…λ£ν•  μ¤€λΉ„κ°€ λμ—μμ„ ν™•μΈν•κ³  4λ‹¨κ³„μ ν•Έλ“μ…°μ΄ν¬λ¥Ό ν†µν•΄ μ—°κ²°μ„ μΆ…λ£ν•λ‹¤.

### TCP μμ‹ μ½”λ“

```jsx
const express = require("express")
const app = express()
app.use(express.json())

// μ‚¬μ©μ μ •λ³΄λ¥Ό λ°›λ” μ—”λ“ν¬μΈνΈ
app.post("/send-data", (req, res) => {
  const userData = req.body
  console.log("Received data:", userData)

  // λ°μ΄ν„° μ²λ¦¬ λ΅μ§ (μ: λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥)
  res.status(200).send({ message: "Data received successfully!" })
})

// μ„λ²„ μ‹μ‘
app.listen(3000, () => {
  console.log("TCP κΈ°λ° Express μ„λ²„κ°€ http://localhost:3000μ—μ„ μ‹¤ν–‰ μ¤‘μ…λ‹λ‹¤")
})
```

---

## UDP (User Datagram Protocol)

UDPλ” λΉ λ¥΄κ³  κ°„λ‹¨ν• ν†µμ‹ μ„ μ„ν•΄ μ—°κ²° μ„¤μ • μ—†μ΄ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” λ„¤νΈμ›ν¬ ν”„λ΅ν† μ½μ΄λ‹¤. TCPμ™€ λ‹¬λ¦¬ μ—°κ²° μ„¤μ •μ„ ν•μ§€μ•κ³  λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ‹¤. λ°μ΄ν„°κ°€ λ„μ°©ν–λ”μ§€ ν™•μΈν•μ§€ μ•κΈ°λ•λ¬Έμ— μ‹ μ†ν•μ§€λ§ μ‹ λΆ°μ„±μ΄ λ‚®λ‹¤. λΉ„λ””μ¤ μ¤νΈλ¦¬λ°κ³Ό κ°™μ€ μ‹¤μ‹κ°„μΌλ΅ λΉ λ¥Έ λ°μ‘μ΄ μ”κµ¬λλ” μ„λΉ„μ¤μ—μ„ μ λ¦¬ν•λ‹¤.

<img src="https://github.com/user-attachments/assets/3afafca0-7c3b-4881-88bc-e33c97f9fc1f" alt="" width="450" />

### λ™μ‘ λ°©μ‹

- UDPλ” λ°μ΄ν„°λ¥Ό 'λ°μ΄ν„°κ·Έλ¨'μ΄λΌκ³  ν•λ” λ…λ¦½μ μΈ ν¨ν‚· ν•νƒλ΅ μ „μ†΅ν•λ‹¤. κ° λ°μ΄ν„°κ·Έλ¨μ€ λ©μ μ§€ μ£Όμ†μ™€ ν¬νΈ μ •λ³΄λ¥Ό ν¬ν•¨ν•κ³  λ…λ¦½μ μΌλ΅ μ „μ†΅λλ‹¤.
- μ „μ†΅λ λ°μ΄ν„°κ·Έλ¨μ λ„μ°©μ„ λ³΄μ¥ν•μ§€ μ•μΌλ©°, λ„μ°© μμ„ λν• λ³΄μ¥ν•μ§€ μ•λ”λ‹¤.
- κ°„μ†ν™”λ λ™μ‘ λ°©μ‹μ€ ν”„λ΅ν† μ½ μ¤λ²„ν—¤λ“λ¥Ό μ¤„μ—¬ λ„¤νΈμ›ν¬ μ§€μ—°μ„ μµμ†ν™”ν•κ³  μ „μ†΅ μ†λ„λ¥Ό λΉ λ¥΄κ² ν•λ‹¤.

### UDP μμ‹ μ½”λ“

Express.jsμ—μ„λ” UDPλ¥Ό μ§μ ‘μ μΌλ΅ λ‹¤λ£¨μ§€ μ•μ•„ `dgram` λ¨λ“μ„ μ‚¬μ©ν•μ—¬ UDP μ„λ²„λ¥Ό κµ¬ν„ν•λ‹¤. μ΄λ” λΉ„λ™κΈ°μ μ΄κ³  μ†μ‹¤ ν—μ©μ μΈ λ°μ΄ν„° μ „μ†΅μ— μ λ¦¬ν•λ‹¤.

```jsx
const dgram = require("dgram")
const server = dgram.createSocket("udp4")

// UDP μ„λ²„κ°€ μμ‹ ν•  λ•
server.on("message", (msg, rinfo) => {
  console.log(`μμ‹ λ λ©”μ‹μ§€: ${msg} from ${rinfo.address}:${rinfo.port}`)

  // λ©”μ‹μ§€μ— λ€ν• μ‘λ‹µ μ „μ†΅
  server.send("Hello, UDP Client!", rinfo.port, rinfo.address, err => {
    if (err) console.error(err)
    console.log("μ‘λ‹µ λ©”μ‹μ§€λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν–μµλ‹λ‹¤")
  })
})

// UDP μ„λ²„ μ‹μ‘
server.bind(4000, () => {
  console.log("UDP μ„λ²„κ°€ 4000 ν¬νΈμ—μ„ μ‹¤ν–‰ μ¤‘μ…λ‹λ‹¤")
})
```

## TCPμ™€ UDPμ μ°¨μ΄μ 

|                      | **TCP <br/> (Transmission Control Protocol)**                  | **UDP <br/> (User Datagram Protocol)**            |
| -------------------- | -------------------------------------------------------------- | ------------------------------------------------- |
| **μ—°κ²° λ°©μ‹**        | μ—°κ²° μ§€ν–¥(Connection-oriented), <br/> 3-way handshake μ‚¬μ©     | λΉ„μ—°κ²°(Connectionless), <br/> handshake μ—†μ΄ μ „μ†΅ |
| **λ°μ΄ν„° μ „μ†΅ λ°©μ‹** | μ‹ λΆ°μ„± μλ” λ°μ΄ν„° μ „μ†΅ <br/> (μμ„ λ³΄μ¥, μ¤λ¥ κ²€μ¶ λ° μ¬μ „μ†΅) | λΉ λ¥Έ λ°μ΄ν„° μ „μ†΅ <br/> (μμ„ λ³΄μ¥ X, μ†μ‹¤ κ°€λ¥)   |
| **μ¤λ²„ν—¤λ“**         | λ†’μ (μ—°κ²° μ„¤μ • λ° μ¤λ¥ μ μ–΄ ν•„μ”)                             | λ‚®μ (μ¶”κ°€μ μΈ μ μ–΄ μ—†μ)                         |
| **μ†λ„**             | μƒλ€μ μΌλ΅ λλ¦Ό                                                | λΉ λ¦„                                              |
| **μμ„ λ³΄μ¥**        | λ³΄μ¥λ¨                                                         | λ³΄μ¥λμ§€ μ•μ                                     |
| **μ¤λ¥ μ μ–΄**        | μμ (ν¨ν‚· μ†μ‹¤ μ‹ μ¬μ „μ†΅)                                     | μ—†μ (ν¨ν‚· μ†μ‹¤ μ‹ μ¬μ „μ†΅ μ• ν•¨)                  |
| **μ‚¬μ© μ‚¬λ΅€**        | μ›Ή λΈλΌμ°μ§•, μ΄λ©”μΌ, νμΌ μ „μ†΅ (HTTP, FTP, SMTP λ“±)            | μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ°, VoIP, μ¨λΌμΈ κ²μ„, DNS μ”μ²­      |
|                      |

<br/>
<br/>

> REFERENCE <br /> μ•„μ£Ό μ‰½κ² μ΄ν•΄ν•λ” Stateful / Stateless μ°¨μ΄ https://inpa.tistory.com/entry/WEB-π“-Stateful-Stateless-μ •λ¦¬ <br/> Stateless / Stateful λ€? https://velog.io/@makeitcloud/λ€-Stateless-Stateful-μ΄λ€
